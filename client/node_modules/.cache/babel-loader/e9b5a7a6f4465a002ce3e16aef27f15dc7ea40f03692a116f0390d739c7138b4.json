{"ast":null,"code":"import'./App.css';import React,{useState,useEffect}from'react';import CopyToClipboard from'react-copy-to-clipboard';import QrCodeGenerator from'./QrCodeGenerator';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[data,setData]=useState(null);const host='https://short-url-opal.vercel.app/';// const host = 'http://localhost:5000/';\nconst[copyAlerts,setCopyAlerts]=useState({});const handleCopyClick=urlId=>{setCopyAlerts(prevAlerts=>({...prevAlerts,[urlId]:true}));setTimeout(()=>{setCopyAlerts(prevAlerts=>({...prevAlerts,[urlId]:false}));},1500);};useEffect(()=>{const fetchData=async()=>{try{const response=await fetch(\"\".concat(host,\"getallUrl\"));const result=await response.json();setData(result);}catch(error){console.error('Error fetching data:',error);}};fetchData();},[]);const validateURL=url=>{const urlPattern=/^(http:\\/\\/|https:\\/\\/)/;// Regular expression pattern for http/https\nreturn urlPattern.test(url);};const handleSubmit=async event=>{event.preventDefault();const urlInput=event.target.url.value;if(!validateURL(urlInput)){alert(\"Please enter a URL starting with 'http://' or 'https://'.\");return;}try{const response=await fetch(\"\".concat(host,\"shorten\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({url:urlInput})});const result=await response.json();setData([result,...data]);// Add the new shortened URL to the beginning of the list\n}catch(error){console.error('Error shortening URL:',error);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"nav\",{className:\"nav\",children:/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:\"SPACE URL\"})}),/*#__PURE__*/_jsxs(\"section\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Make URL to short\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter URL to make short\",name:\"url\",required:true}),/*#__PURE__*/_jsx(\"button\",{children:\"Short URL\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"list-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Shortened URL\"}),data&&data.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"list-item\",children:[...data].reverse().map(url=>/*#__PURE__*/_jsxs(\"li\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"txt-overflow\",children:[\"URL: \",/*#__PURE__*/_jsx(\"a\",{href:url.url,children:url.url})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"click-txt\",children:[\"Clicked: \",/*#__PURE__*/_jsx(\"span\",{children:url.click})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"r-box\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Short URL:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"short-box\",children:[/*#__PURE__*/_jsx(\"a\",{href:host+url.shortUrl,target:\"_blank\",rel:\"noopener noreferrer\",className:\"link-short\",children:host+url.shortUrl}),/*#__PURE__*/_jsxs(\"div\",{className:\"copy-btn\",children:[/*#__PURE__*/_jsx(CopyToClipboard,{text:host+url.shortUrl,onCopy:()=>handleCopyClick(url._id),children:/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-regular fa-copy\"})})}),copyAlerts[url._id]&&/*#__PURE__*/_jsx(\"span\",{id:\"copy-alert-\".concat(url._id),children:\"Copied!\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"qr-code\",children:/*#__PURE__*/_jsx(QrCodeGenerator,{url:host+url.shortUrl})})]})]},url._id))}):/*#__PURE__*/_jsx(\"p\",{children:\"No History\"})]})]}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Made by Me\\u2764\\uFE0F\"})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","CopyToClipboard","QrCodeGenerator","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","data","setData","host","copyAlerts","setCopyAlerts","handleCopyClick","urlId","prevAlerts","setTimeout","fetchData","response","fetch","concat","result","json","error","console","validateURL","url","urlPattern","test","handleSubmit","event","preventDefault","urlInput","target","value","alert","method","headers","body","JSON","stringify","children","className","onSubmit","type","placeholder","name","required","length","reverse","map","href","click","shortUrl","rel","text","onCopy","_id","id"],"sources":["C:/Users/Bas-PC/Desktop/ShortURL/client/src/App.js"],"sourcesContent":["import './App.css';\nimport React, { useState, useEffect } from 'react';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport QrCodeGenerator from './QrCodeGenerator';\n\nfunction App() {\n  const [data, setData] = useState(null);\n  const host = 'https://short-url-opal.vercel.app/';\n  // const host = 'http://localhost:5000/';\n\n  const [copyAlerts, setCopyAlerts] = useState({});\n\n  const handleCopyClick = (urlId) => {\n    setCopyAlerts((prevAlerts) => ({\n      ...prevAlerts,\n      [urlId]: true,\n    }));\n\n    setTimeout(() => {\n      setCopyAlerts((prevAlerts) => ({\n        ...prevAlerts,\n        [urlId]: false,\n      }));\n    }, 1500);\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(`${host}getallUrl`);\n        const result = await response.json();\n        setData(result);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const validateURL = (url) => {\n    const urlPattern = /^(http:\\/\\/|https:\\/\\/)/; // Regular expression pattern for http/https\n    return urlPattern.test(url);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const urlInput = event.target.url.value;\n    if (!validateURL(urlInput)) {\n      alert(\"Please enter a URL starting with 'http://' or 'https://'.\");\n      return;\n    }\n    try {\n      const response = await fetch(`${host}shorten`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ url: urlInput }),\n      });\n      const result = await response.json();\n      setData([result, ...data]); // Add the new shortened URL to the beginning of the list\n    } catch (error) {\n      console.error('Error shortening URL:', error);\n    }\n  };\n\n  return (\n    <>\n      <nav className='nav'>\n        <div className='logo'>SPACE URL</div>\n      </nav>\n      <section className='container'>\n        <h1>Make URL to short</h1>\n        <form onSubmit={handleSubmit}>\n          <input type='text' placeholder='Enter URL to make short' name='url' required></input>\n          <button>Short URL</button>\n        </form>\n        <div className='list-box'>\n          <h2>Shortened URL</h2>\n          {data && data.length > 0 ? (\n            <ul className='list-item'>\n              {[...data].reverse().map((url) => (\n                <li key={url._id} className='row'>\n                  <div className='txt-overflow'>URL: <a href={url.url}>{url.url}</a></div>\n                  <p className='click-txt'>Clicked: <span>{url.click}</span></p>\n                  <div className='r-box'>\n                    <p>Short URL:</p>\n                    <div className='short-box'>\n                      <a href={host + url.shortUrl} target='_blank' rel='noopener noreferrer' className='link-short'>{host + url.shortUrl}</a>\n                      <div className='copy-btn'>\n                        <CopyToClipboard text={host + url.shortUrl} onCopy={() => handleCopyClick(url._id)}>\n                          <button><i className=\"fa-regular fa-copy\"></i></button>\n                        </CopyToClipboard>\n                        {copyAlerts[url._id] && <span id={`copy-alert-${url._id}`}>Copied!</span>}\n                      </div>\n                    </div>\n                    <div className='qr-code'>\n                      <QrCodeGenerator url={host + url.shortUrl} />\n                    </div>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          ) : (\n            <p>No History</p>\n          )}\n        </div>\n      </section>\n      <footer>\n        <p>Made by Me❤️</p>\n      </footer>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import'./App.css';import React,{useState,useEffect}from'react';import CopyToClipboard from'react-copy-to-clipboard';import QrCodeGenerator from'./QrCodeGenerator';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[data,setData]=useState(null);const host='https://short-url-opal.vercel.app/';// const host = 'http://localhost:5000/';\nconst[copyAlerts,setCopyAlerts]=useState({});const handleCopyClick=urlId=>{setCopyAlerts(prevAlerts=>({...prevAlerts,[urlId]:true}));setTimeout(()=>{setCopyAlerts(prevAlerts=>({...prevAlerts,[urlId]:false}));},1500);};useEffect(()=>{const fetchData=async()=>{try{const response=await fetch(\"\".concat(host,\"getallUrl\"));const result=await response.json();setData(result);}catch(error){console.error('Error fetching data:',error);}};fetchData();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"nav\",{className:\"nav\",children:/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:\"SPACE URL\"})}),/*#__PURE__*/_jsxs(\"section\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Make URL to short\"}),/*#__PURE__*/_jsxs(\"form\",{action:host+'shorten',method:\"post\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter URL to make short\",name:\"url\",required:true}),/*#__PURE__*/_jsx(\"button\",{children:\"Short URL\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"list-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Shorted URL\"}),data&&data.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"list-item\",children:[...data].reverse().map(url=>/*#__PURE__*/_jsxs(\"li\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"txt-overflow\",children:[\"URL: \",/*#__PURE__*/_jsx(\"a\",{href:url.url,children:url.url})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"click-txt\",children:[\"Clicked: \",/*#__PURE__*/_jsx(\"span\",{children:url.click})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"r-box\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Short URL:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"short-box\",children:[/*#__PURE__*/_jsx(\"a\",{href:host+url.shortUrl,target:\"_blank\",rel:\"noopener noreferrer\",className:\"link-short\",children:host+url.shortUrl}),/*#__PURE__*/_jsxs(\"div\",{className:\"copy-btn\",children:[/*#__PURE__*/_jsx(CopyToClipboard,{text:host+url.shortUrl,onCopy:()=>handleCopyClick(url._id),children:/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-regular fa-copy\"})})}),copyAlerts[url._id]&&/*#__PURE__*/_jsx(\"span\",{id:\"copy-alert-\".concat(url._id),children:\"Copied!\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"qr-code\",children:/*#__PURE__*/_jsx(QrCodeGenerator,{url:url.url})})]})]},url._id))}):/*#__PURE__*/_jsx(\"p\",{children:\"No History\"})]})]}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Made by Me\\u2764\\uFE0F\"})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","CopyToClipboard","QrCodeGenerator","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","data","setData","host","copyAlerts","setCopyAlerts","handleCopyClick","urlId","prevAlerts","setTimeout","fetchData","response","fetch","concat","result","json","error","console","children","className","action","method","type","placeholder","name","required","length","reverse","map","url","href","click","shortUrl","target","rel","text","onCopy","_id","id"],"sources":["C:/Users/Bas-PC/Desktop/ShortURL/client/src/App.js"],"sourcesContent":["import './App.css';\nimport React, { useState, useEffect } from 'react';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport QrCodeGenerator from './QrCodeGenerator';\n\nfunction App() {\n  const [data, setData] = useState(null);\n  const host = 'https://short-url-opal.vercel.app/';\n  // const host = 'http://localhost:5000/';\n\n  const [copyAlerts, setCopyAlerts] = useState({});\n\n  const handleCopyClick = (urlId) => {\n    setCopyAlerts((prevAlerts) => ({\n      ...prevAlerts,\n      [urlId]: true,\n    }));\n\n    setTimeout(() => {\n      setCopyAlerts((prevAlerts) => ({\n        ...prevAlerts,\n        [urlId]: false,\n      }));\n    }, 1500);\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(`${host}getallUrl`);\n        const result = await response.json();\n        setData(result);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return (\n    <>\n      <nav className='nav'>\n        <div className='logo'>SPACE URL</div>\n      </nav>\n      <section className='container'>\n        <h1>Make URL to short</h1>\n        <form action={host + 'shorten'} method='post'>\n          <input type='text' placeholder='Enter URL to make short' name='url' required></input>\n          <button>Short URL</button>\n        </form>\n        {/* <ShortUrl /> */}\n        <div className='list-box'>\n          <h2>Shorted URL</h2>\n          {data && data.length > 0 ? (\n            <ul className='list-item'>\n              {[...data].reverse().map((url) => (\n                <li key={url._id} className='row'>\n                  <div className='txt-overflow'>URL: <a href={url.url}>{url.url}</a></div>\n                  <p className='click-txt'>Clicked: <span>{url.click}</span></p>\n                  <div className='r-box'>\n                    <p>Short URL:</p>\n                    <div className='short-box'>\n                      <a href={host + url.shortUrl} target='_blank' rel='noopener noreferrer' className='link-short'>{host + url.shortUrl}</a>\n                      <div className='copy-btn'>\n                        <CopyToClipboard text={host + url.shortUrl} onCopy={() => handleCopyClick(url._id)}>\n                          <button><i className=\"fa-regular fa-copy\"></i></button>\n                        </CopyToClipboard>\n                        {copyAlerts[url._id] && <span id={`copy-alert-${url._id}`}>Copied!</span>}\n                      </div>\n                    </div>\n                    <div className='qr-code'>\n                      <QrCodeGenerator url={url.url} />\n                      {/* <p>{url.url}</p> */}\n                    </div>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          ) : (\n            <p>No History</p>\n          )}\n        </div>\n      </section>\n      <footer>\n        <p>Made by Me❤️</p>\n      </footer>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}